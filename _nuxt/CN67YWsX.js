import{y as F,z as g,r as v,A as K,B,f as h,C as $,D as U,E as O,q as E,k as M,G as k,H,m as R,I as S,c as z,o as I,a as n,J as y,K as _}from"./CVeMs7Mb.js";import{_ as N}from"./DlAUqK2U.js";const T=l=>l==="defer"||l===!1;function ae(...l){var V;const u=typeof l[l.length-1]=="string"?l.pop():void 0;typeof l[0]!="string"&&l.unshift(u);let[r,o,t={}]=l;if(typeof r!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof o!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=F(),c=o,i=()=>g.value,e=()=>s.isHydrating?s.payload.data[r]:s.static.data[r];t.server=t.server??!0,t.default=t.default??i,t.getCachedData=t.getCachedData??e,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0,t.deep=t.deep??g.deep,t.dedupe=t.dedupe??"cancel";const a=t.getCachedData(r,s),b=a!=null;if(!s._asyncData[r]||!t.immediate){(V=s.payload._errors)[r]??(V[r]=g.errorValue);const m=t.deep?v:K;s._asyncData[r]={data:m(b?a:t.default()),pending:v(!b),error:B(s.payload._errors,r),status:v("idle"),_default:t.default}}const d={...s._asyncData[r]};delete d._default,d.refresh=d.execute=(m={})=>{if(s._asyncDataPromises[r]){if(T(m.dedupe??t.dedupe))return s._asyncDataPromises[r];s._asyncDataPromises[r].cancelled=!0}if(m._initial||s.isHydrating&&m._initial!==!1){const p=m._initial?a:t.getCachedData(r,s);if(p!=null)return Promise.resolve(p)}d.pending.value=!0,d.status.value="pending";const D=new Promise((p,f)=>{try{p(c(s))}catch(x){f(x)}}).then(async p=>{if(D.cancelled)return s._asyncDataPromises[r];let f=p;t.transform&&(f=await t.transform(p)),t.pick&&(f=q(f,t.pick)),s.payload.data[r]=f,d.data.value=f,d.error.value=g.errorValue,d.status.value="success"}).catch(p=>{if(D.cancelled)return s._asyncDataPromises[r];d.error.value=O(p),d.data.value=E(t.default()),d.status.value="error"}).finally(()=>{D.cancelled||(d.pending.value=!1,delete s._asyncDataPromises[r])});return s._asyncDataPromises[r]=D,s._asyncDataPromises[r]},d.clear=()=>j(s,r);const w=()=>d.refresh({_initial:!0}),P=t.server!==!1&&s.payload.serverRendered;{const m=M();if(m&&P&&t.immediate&&!m.sp&&(m.sp=[]),m&&!m._nuxtOnBeforeMountCbs){m._nuxtOnBeforeMountCbs=[];const f=m._nuxtOnBeforeMountCbs;k(()=>{f.forEach(x=>{x()}),f.splice(0,f.length)}),H(()=>f.splice(0,f.length))}P&&s.isHydrating&&(d.error.value||a!=null)?(d.pending.value=!1,d.status.value=d.error.value?"error":"success"):m&&(s.payload.serverRendered&&s.isHydrating||t.lazy)&&t.immediate?m._nuxtOnBeforeMountCbs.push(w):t.immediate&&w();const D=U();if(t.watch){const f=h(t.watch,()=>d.refresh());D&&$(f)}const p=s.hook("app:data:refresh",async f=>{(!f||f.includes(r))&&await d.refresh()});D&&$(p)}const C=Promise.resolve(s._asyncDataPromises[r]).then(()=>d);return Object.assign(C,d),C}function j(l,u){u in l.payload.data&&(l.payload.data[u]=void 0),u in l.payload._errors&&(l.payload._errors[u]=g.errorValue),l._asyncData[u]&&(l._asyncData[u].data.value=void 0,l._asyncData[u].error.value=g.errorValue,l._asyncData[u].pending.value=!1,l._asyncData[u].status.value="idle"),u in l._asyncDataPromises&&(l._asyncDataPromises[u]&&(l._asyncDataPromises[u].cancelled=!0),l._asyncDataPromises[u]=void 0)}function q(l,u){const r={};for(const o of u)r[o]=l[o];return r}const G={class:"fruit-filter-block"},J={class:"filter-fields"},L={class:"range-block"},Q={class:"range-block"},W={class:"range-block"},X={class:"range-block"},Y={class:"range-block"},Z=R({__name:"FruitFilter",emits:["updateFilter"],setup(l,{emit:u}){const r=u,o=S({calories_min:0,calories_max:1e3,fat_min:0,fat_max:1e3,protein_min:0,protein_max:1e3,sugar_min:0,sugar_max:1e3,carbohydrates_min:0,carbohydrates_max:1e3});function t(i){r("updateFilter",i)}function s(i){for(let e in i){i[e].length>1&&i[e][0]==0&&(i[e]=i[e].slice(1));let a=e.split("_");a[1]==="min"?i[`${a[0]}_min`]>i[`${a[0]}_max`]?i[`${a[0]}_min`]=i[`${a[0]}_max`]:i[`${a[0]}_min`]<0&&(i[`${a[0]}_min`]=0):i[`${a[0]}_max`]<i[`${a[0]}_min`]?i[`${a[0]}_max`]=i[`${a[0]}_min`]:i[`${a[0]}_max`]>1e3&&(i[`${a[0]}_max`]=1e3)}}function c(i){!/^[0-9]$/.test(i.key)&&i.key!=="Backspace"&&i.key!=="Delete"&&i.preventDefault()}return h(o,i=>{s(i),t(i)}),(i,e)=>(I(),z("article",G,[e[20]||(e[20]=n("h3",null,"Filter:",-1)),n("div",J,[n("div",L,[e[11]||(e[11]=n("p",null," Calories: ",-1)),n("div",null,[y(n("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>o.calories_min=a),max:"100",onKeydown:c},null,544),[[_,o.calories_min]]),e[10]||(e[10]=n("span",null," - ",-1)),y(n("input",{"onUpdate:modelValue":e[1]||(e[1]=a=>o.calories_max=a),max:"100",onKeydown:c},null,544),[[_,o.calories_max]])])]),n("div",Q,[e[13]||(e[13]=n("p",null," Carbohydrates: ",-1)),n("div",null,[y(n("input",{"onUpdate:modelValue":e[2]||(e[2]=a=>o.carbohydrates_min=a),max:"100",onKeydown:c},null,544),[[_,o.carbohydrates_min]]),e[12]||(e[12]=n("span",null," - ",-1)),y(n("input",{"onUpdate:modelValue":e[3]||(e[3]=a=>o.carbohydrates_max=a),max:"100",onKeydown:c},null,544),[[_,o.carbohydrates_max]])])]),n("div",W,[e[15]||(e[15]=n("p",null," Protein: ",-1)),n("div",null,[y(n("input",{"onUpdate:modelValue":e[4]||(e[4]=a=>o.protein_min=a),max:"100",onKeydown:c},null,544),[[_,o.protein_min]]),e[14]||(e[14]=n("span",null," - ",-1)),y(n("input",{"onUpdate:modelValue":e[5]||(e[5]=a=>o.protein_max=a),max:"100",onKeydown:c},null,544),[[_,o.protein_max]])])]),n("div",X,[e[17]||(e[17]=n("p",null," Fat: ",-1)),n("div",null,[y(n("input",{"onUpdate:modelValue":e[6]||(e[6]=a=>o.fat_min=a),max:"100",onKeydown:c},null,544),[[_,o.fat_min]]),e[16]||(e[16]=n("span",null," - ",-1)),y(n("input",{"onUpdate:modelValue":e[7]||(e[7]=a=>o.fat_max=a),max:"100",onKeydown:c},null,544),[[_,o.fat_max]])])]),n("div",Y,[e[19]||(e[19]=n("p",null," Sugar: ",-1)),n("div",null,[y(n("input",{"onUpdate:modelValue":e[8]||(e[8]=a=>o.sugar_min=a),max:"100",onKeydown:c},null,544),[[_,o.sugar_min]]),e[18]||(e[18]=n("span",null," - ",-1)),y(n("input",{"onUpdate:modelValue":e[9]||(e[9]=a=>o.sugar_max=a),max:"100",onKeydown:c},null,544),[[_,o.sugar_max]])])])])]))}}),te=N(Z,[["__scopeId","data-v-19e80b06"]]);export{te as F,ae as u};
