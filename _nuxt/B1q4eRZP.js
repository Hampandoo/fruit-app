import{_ as x}from"./4q5oRNWk.js";import{u as S,a as k,I as C,F as I}from"./yiy9cu67.js";import{u as y,F as $}from"./CN67YWsX.js";import{m as g,r as w,n as m,p as B,c as _,b as a,w as u,o as l,d as N,F as b,s as L,v as M,x as V,q}from"./CVeMs7Mb.js";import{_ as A}from"./DlAUqK2U.js";const D=g({__name:"index",setup(E){const n=S(),{data:o}=y("fruits",async()=>await $fetch("/api/fruits/"),{server:!0}),i=w({});function f(e){i.value=e}const p=m(()=>!o||!o.value?[]:o.value.filter(e=>{for(let t in e.nutritions)if(e.nutritions[t]<i.value[`${t}_min`]||e.nutritions[t]>i.value[`${t}_max`])return!1;return!0})),F=m(()=>n.selectedFruits.map(e=>e.id));return B(()=>n.loadSelectedFruitsFromStorage()),(e,t)=>{const v=x;return l(),_("article",null,[a(v,{to:"/selected"},{default:u(()=>t[2]||(t[2]=[N("Favorite page")])),_:1}),a($,{class:"fruit-filter",onUpdateFilter:f}),a(k,{class:"fruits-container"},{default:u(()=>[(l(!0),_(b,null,L(p.value,(r,T,U,s)=>{const d=[r.id];if(s&&s.key===r.id&&M(s,d))return s;const c=(l(),V(C,{key:r.id},{default:u(()=>[a(I,{data:r,"is-selected":F.value.includes(r.id),onSelectFruit:j=>q(n).handleSelectFruit(r)},null,8,["data","is-selected","onSelectFruit"])]),_:2},1024));return c.memo=d,c},t,0),128))]),_:1})])}}}),O=A(D,[["__scopeId","data-v-7960bea2"]]);export{O as default};
