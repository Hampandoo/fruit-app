import{_ as S}from"./4q5oRNWk.js";import{u as k,I as $,F as C,a as B}from"./yiy9cu67.js";import{u as I,F as N}from"./CN67YWsX.js";import{m as g,u as w,r as V,n as f,p as D,c as _,o as l,b as r,a as L,w as u,d as M,t as b,q as p,F as q,s as A,v as E,x as R}from"./CVeMs7Mb.js";import{_ as T}from"./DlAUqK2U.js";const U={class:"family-title"},h=g({__name:"[family]",setup(j){const n=w(),o=k(),{data:m}=I(`fruits-${n.params.family}`,async()=>await $fetch(`/api/fruits/${n.params.family}`),{server:!0}),i=V({});function F(t){i.value=t}const y=f(()=>m.value?m.value.filter(t=>{for(let e in t.nutritions)if(t.nutritions[e]<i.value[`${e}_min`]||t.nutritions[e]>i.value[`${e}_max`])return!1;return!0}):[]),v=f(()=>o.selectedFruits.map(t=>t.id));return D(()=>o.loadSelectedFruitsFromStorage()),(t,e)=>{const x=S;return l(),_("article",null,[r(x,{to:"/"},{default:u(()=>e[2]||(e[2]=[M("Back")])),_:1}),r(N,{class:"fruit-filter",onUpdateFilter:F}),L("h2",U,b(p(n).params.family)+" Family",1),r(B,{class:"fruits-container"},{default:u(()=>[(l(!0),_(q,null,A(y.value,(a,z,G,s)=>{const c=[a.id];if(s&&s.key===a.id&&E(s,c))return s;const d=(l(),R($,{key:a.id},{default:u(()=>[r(C,{data:a,"is-selected":v.value.includes(a.id),onSelectFruit:H=>p(o).handleSelectFruit(a)},null,8,["data","is-selected","onSelectFruit"])]),_:2},1024));return d.memo=c,d},e,0),128))]),_:1})])}}}),W=T(h,[["__scopeId","data-v-8708d71d"]]);export{W as default};
